{% load i18n %}
<div id="drawer-right-{{ room.room_number }}"
     class="w-full sm:w-1/2 md:w-1/2 lg:w-1/2 xl:w-1/2 fixed top-0 right-0 z-40 h-screen p-4 overflow-y-auto transition-transform translate-x-full bg-white dark:bg-gray-800"
     tabindex="-1"
     aria-labelledby="drawer-right-label">
    <h5 id=" drawer-right-label"
        class="inline-flex items-center mb-4 text-base font-semibold text-gray-500 dark:text-gray-400">
        <i icon-name="info" class="mr-2"></i>
        {% translate "Room" %}
        {{ room.room_number }}
    </h5>
    <button type="button"
            data-drawer-hide="drawer-right-{{ room.room_number }}"
            aria-controls="drawer-right-{{ room.room_number }}"
            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 absolute top-2.5 right-2.5 inline-flex items-center justify-center dark:hover:bg-gray-600 dark:hover:text-white">
        <i icon-name="x"></i>
        <span class="sr-only">{% translate "Close menu" %}</span>
    </button>
    <ul class="text-base text-gray-500 list-disc list-inside dark:text-gray-400">
        <li>{% translate "Beds" %}: {{ room.occupied_beds }} / {{ room.total_beds }}</li>
    </ul>
    <p class="mb-6 text-sm text-gray-500 dark:text-gray-400"></p>
    <div class="flex flex-col gap-4">
        {% for patient in room.patients.all %}
            {% with bed_assignment=patient.current_stay %}
                <div class="bg-white rounded-lg shadow-lg p-4 w-full">
                    {% include "patient/patient_card.html" %}
                    <!-- Buttons -->
                    <div class="flex justify-end border-t pt-2 border-gray-200 rounded-b dark:border-gray-600">
                        <div class="flex gap-2">
                            <a href="{% url 'cms:protected:assign_patient' ward_id=ward.id assignment_id=bed_assignment.id %}">
                                <button class="text-white bg-green-500 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 dark:focus:ring-green-700  rounded inline-flex items-center px-5 py-2.5 text-center">
                                    {% translate "Transfer" %}
                                </button>
                            </a>
                            <button id="dischargeButton-{{ ward.id }}"
                                    data-modal-toggle="modalEl"
                                    type="button"
                                    data-bedassignment-id="{{ patient.current_stay.id }}"
                                    class="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 rounded px-5 py-2.5 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900">
                                {% translate "Discharge" %}
                            </button>
                        </div>
                    </div>
                </div>
            {% endwith %}
        {% endfor %}
    </div>
</div>
